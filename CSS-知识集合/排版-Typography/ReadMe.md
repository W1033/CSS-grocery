# 排版



## New Words

typography `/taɪ'pɑgrəfi/`  -n. 排版。

serif `/'sɛrɪf/`  -n. 衬线字体

sans `/sænz/`  -prep. 无，没有





## ▲ 字体的分类

>  此部分笔记来源：https://github.com/chokcoco/iCSS/issues/6

就 Web 常用的一些字体而言，经常听说的字体类型，大致可以分为这几种：

**(1) `serif`(衬线类)**

**(2) `sans-serif` (无衬线类)**

**(3) `monospace` (等宽体)**

**(4) `cursive` (草书体)**

**(5) `fantasy` (幻想体)**

其实大体上分为**衬线字体**和**无衬线字体**，等宽字体中也有衬线等宽和无衬线等宽字体，这 5 个分类是 `font-family` 的 5 个可用字体系列取值。

也就是说，上述 5 个名字，代表的并非某个特定字体，而是一系列字体，这些通用的名称允许用户代理（通常就是浏览器）从相应集合中选择一款字体。

这也很好解释了，`font-family` 中的 family ，家庭的意思，也就是不单单指一个，而是可以指定多个，上述 5 个英文单词都是 `font-family` 的可用取值，下文还会详细讲到。

下面详细了解一下每类字体。

### (1) serif -- 衬线字体

详细讲解见：当前同目录的 `../字体/readme.md`

### (2) sans-serif -- 无衬线字体

详细讲解见：当前同目录的 `../字体/readme.md`

### (3) monospace -- 等宽字体

这系列字体程序员们其实都不陌生。我们用来敲代码的编辑器，字体的选择经常就是一类等宽字体。

等宽字体是指字符宽度相同的电脑字体，常见于 IDE 或者编辑器中，每个字母的宽度相等，通常用于计算机相关书籍中排版代码块。

![font-monospace](./readme.assets/4e0f1f08-d324-11e6-9694-79cbce706284.jpg)

除了 IDE ，我们看到的技术文章中的代码块中，经常也是使用等宽字体进行排版。

#### Consolas

这是一套等宽的字体，属无衬线字体。这个字体使用了微软的 ClearType 字型平滑技术，主要是设计做为代码的显示字型之用，特别之处是它的“0”字加入了一斜撇，以方便与字母“O”分辨。

![image](./readme.assets/17d344f2-d354-11e6-9be9-a6ffa5fd7204.png)

> ClearType：由微软在其操作系统中提供的屏幕亚像素微调字体平滑工具，让 Windows 字体更加漂亮。在 Windows XP 平台上，这项技术默认是关闭，到了Windows Vista 才默认为开启。

![image](./readme.assets/1f040f92-d325-11e6-8632-e432dab1d321.png)

上图是 Github 代码区块的字体设置，可以看到，默认字体就是 `Consolas` ，紧接着的几个都是其它等宽字体，如果用户的系统中都没有预装这些字体，则会匹配最后一个 `monospace` ，它表示等宽字体系列，会从用户系统中的等宽字体中选取一个展示。

### (4)、(5) 略



## ▲ 中文字体的兼容写法

一些中文字体，例如`font-family: '宋体'`，由于字符编码的问题，少部分浏览器解释这个代码的时候，中文出现乱码，这个时候设定的字体无法正常显示。

所以通常会转化成对应的英文写法或者是对应的 unicode 编码，`font-family:'宋体'` -> `font-family: '\5b8b\4f53'`。

`\5b8b\4f53` 是宋体两个中文字的 unicode 编码表示。类似的写法还有：

- 黑体：` \9ED1\4F53`
- 微软雅黑：`\5FAE\8F6F\96C5\9ED1`
- 华文细黑：`\534E\6587\7EC6\9ED1`
- 华文黑体：`\534E\6587\9ED1\4F53`

> [Unicode编码](https://zh.wikipedia.org/wiki/Unicode)： 人们希望在一套系统里面能够容纳所有字符，Unicode 编码解决传统的字符编码方案的局限性，每个字符占用 2 字节。这样理论上一共最多可以表示2^16（即65536）个字符。基本满足各种语言的使用。



## ▲ 字体定义的细节

其他一些小细节也很重要，譬如定义字体的时候，何时需要在字体两端添加引号？像这样：

```css
p{
    font-family: 'Microsoft YaHei', '黑体-简', '\5b8b\4f53';
}
```

当字体名字中间有空格，中文名字体及 Unicode 字符编码表示的中文字体，为了保证兼容性，都建议在字体两端添加单引号或者双引号。



## ▲ 字体定义顺序

字体定义顺序是一门学问，通常而言，我们定义字体的时候，会定义多个字体或字体系列。举个栗子：

```css
body {
    font-family: tahoma, arial, 'Hiragino Sans GB', '\5b8b\4f53', sans-serif;
}
```

别看短短 5 个字体名，其实其中门道很深。解释一下：

1. 使用 `tahoma` 作为首选的西文字体，小字号下结构清晰端整、阅读辨识容易；
2. 用户电脑未预装 `tohoma`，则选择 `arial` 作为替代的西文字体，覆盖 windows 和 MAC OS；
3. `Hiragino Sans GB` 为冬青黑体，首选的中文字体，保证了 MAC 用户的观看体验；
4. Windows 下没有预装冬青黑体，则使用 `\5b8b\4f53` 宋体为替代的中文字体方案，小字号下有着不错的效果；
5. 最后使用无衬线系列字体 `sans-serif` 结尾，保证旧版本操作系统用户能选中一款电脑预装的无衬线字体，向下兼容。

嗯，其实上面的 `font-family` 就是淘宝首页 `body` 的字体定义，非常的规范，每一个字体的定义都有它的意义。

 

## ▲ 字体书写规则

综上，总结一下，我觉得字体 `font-family` 定义的原则大概遵循：

#### (1) 兼顾中西

中文或者西文（英文）都要考虑到。

#### (2) 西文在前，中文在后

由于大部分中文字体也是带有英文部分的，但是英文部分又不怎么好看，同理英文字体中大多不包含中文。

所以通常会先进行英文字体的声明，选择最优的英文字体，这样不会影响到中文字体的选择，中文字体声明则紧随其次。

#### (3) 兼顾多操作系统

选择字体的时候要考虑多操作系统。例如 MAC OS 下的很多中文字体在 Windows 都没有预装，为了保证 MAC 用户的体验，在定义中文字体的时候，先定义 MAC 用户的中文字体，再定义 Windows 用户的中文字体；

#### (4) 兼顾旧操作系统，以字体族系列 `serif` 和 `sans-serif` 结尾

当使用一些非常新的字体时，要考虑向下兼容，兼顾到一些极旧的操作系统，使用字体族系列 `serif` 和 `sans-serif` 结尾总归是不错的选择。
